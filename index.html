<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>PSO Demo</title>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
</head>
<body>

<div id="container"></div>

<table class="table table-striped" style="width: 640px;" id="generation">
    <caption>Current Generation</caption>
    <thead>
    <tr>
        <th>Element</th>
        <th>X</th>
        <th>Y</th>
        <th>Z</th>
    </tr>
    </thead>
    <tbody></tbody>
</table>

<div id="controls">
    <button class="btn btn-primary" id="btnStep">Step</button>
    <button class="btn btn-primary" id="btnRun">Run</button>
</div>
<br/>
<a href="mopso.html" class="btn btn-primary">View MOPSO <i class="icon-chevron-right icon-white"></i></a>
<br />
<br />
<a href="https://github.com/tessellator/mopso" class="btn">Get the source</a>


<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/three.js/r58/three.min.js"></script>
<script src="https://raw.github.com/mrdoob/three.js/master/examples/js/controls/TrackballControls.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sylvester/0.1.3/sylvester.js"></script>
<script src="https://raw.github.com/tessellator/mopso/master/src/helpers.js"></script>
<script src="https://raw.github.com/tessellator/mopso/master/src/pso.js"></script>
<script src="js/rendercontext.js"></script>
<script src="js/graph.js"></script>
<script src="js/psorenderer.js"></script>
<script src="js/generationrenderer.js"></script>
<script>
    $(document).ready(function () {

        var pi = Math.PI;
        var hpi = Math.PI / 2.0;

        var problem = {
            bounds: {
                position: { minX: -pi, maxX: pi, minY: -pi, maxY: pi },
                velocity: { minX: -hpi, maxX: hpi, minY: -hpi, maxY: hpi }
            },
            dimensions: 2,
            fn: function (args) {
                var x = args[0], y = args[1];
                return -(sinc(x) * sinc(y));
            }
        };

        var particleCount = 5;
        var pso = new PSO(problem, 25, particleCount);

        var context = new RenderContext('#container');
        new Graph(context, 1000, 1000, problem.fn);
        new PSORenderer(context, pso);
        new GenerationRenderer('#generation', pso);

        context.animate();

        $('#btnStep').click(function () {
            pso.step();
        });
        $('#btnRun').click(function () {
            pso.run();
        });
    });
</script>
</body>
</html>
